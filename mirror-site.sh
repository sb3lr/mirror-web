#!/bin/bash
# download-site.sh
# ุณูุฑุจุช ุจุณูุท ูุฃุฑุดูุฉ ุฃู ูููุน ูุงูููุง ููุนูู ุจุฏูู ุฅูุชุฑูุช

# ุฅุฐุง ุชู ุชูุฑูุฑ ุฑุงุจุท ููุณูุท ุฃูู ูุณุชุนูููุ ูุฅูุง ูุทูุจู ูู ุงููุณุชุฎุฏู
if [[ -n "$1" ]]; then
    SITE_URL="$1"
else
    read -rp "ุฃุฏุฎู ุฑุงุจุท ุงููููุน (ูุซุงู: https://example.com): " SITE_URL
fi

# ุชุฃููุฏ ุฃู ุงูุฑุงุจุท ูุจุฏุฃ ุจู http
if [[ ! "$SITE_URL" =~ ^https?:// ]]; then
    echo "โ โุงูุฑุฌุงุก ุฅุฏุฎุงู ุฑุงุจุท ูุจุฏุฃ ุจู http ุฃู https"
    exit 1
fi

# ูุญุตู ุนูู ุงูุฏูููู ููุท ูุฅูุดุงุก ูุฌูุฏ ูุฑุชุจ
DOMAIN=$(echo "$SITE_URL" | awk -F/ '{print $3}')

echo "๐ก ุฌุงุฑู ุชุญููู ุงููููุน: $SITE_URL ..."
echo "๐๏ธ ุณูุชู ุงูุญูุธ ูู ูุฌูุฏ: $DOMAIN"

wget --mirror \
     --convert-links \
     --adjust-extension \
     --page-requisites \
     --no-parent \
     "$SITE_URL"

echo "โ ุชู ุชุญููู ุงููููุน ุจุงููุงูู!"
echo "โก ุงูุชุญ ุงูููู:  $DOMAIN/index.html  ูุงุณุชูุชุน ุจุงูุชุตูุญ ุจุฏูู ุฅูุชุฑูุช."

